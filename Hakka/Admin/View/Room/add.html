<extend name="Public:index" />
<!-- page heading start-->
<block name="content">

    <div class="pageheader">
      <h2><i class="fa fa-table"></i> 复城国际 <span>复城国际后台管理系统</span></h2>
      <div class="breadcrumb-wrapper">
        <span class="label">你在这里:</span>
        <ol class="breadcrumb">
          <li style="color: royalblue">房源推荐</li>
        </ol>
      </div>
    </div>

  <div class="contentpanel">

    <div class="panel panel-default">
      <div class="panel-body panel-body-nopadding">
        <form class="form-horizontal form-bordered" action="{:U('Admin/Room/add')}" method="post" enctype="multipart/form-data">

          <div class="form-group">
            <label class="col-sm-3 control-label">标题</label>
            <div class="col-sm-6">
              <input name="tiele" type="text" class="form-control" required/>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-3 control-label">简介</label>
            <div class="col-sm-6">
              <input name="profile" type="text" class="form-control" required/>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-3 control-label">总楼层</label>
            <div class="col-sm-6">
              <input name="floor" type="number" min="1" max="10000" class="form-control" required/>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-3 control-label">几层</label>
            <div class="col-sm-6">
              <input name="few" type="number" min="1" max="10000" class="form-control" required/>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-3 control-label">门牌号</label>
            <div class="col-sm-6">
              <input name="addresses" type="text" class="form-control" required/>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-3 control-label">面积</label>
            <div class="col-sm-6">
              <input name="area" type="number" min="1" max="100000000" class="form-control" required/>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-3 control-label">房源类型</label>
            <div class="col-sm-6">
              <select name="type" id="type" class="form-control">
                <option value="1">精装</option>
                <option value="2">清水</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-3 control-label">户型</label>
            <div class="col-sm-6">
              <input name="family" type="text" class="form-control" required/>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-3 control-label">净高层</label>
            <div class="col-sm-6">
              <input name="nettop" type="text" value="4" class="form-control" disabled=""/>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-3 control-label">物业费</label>
            <div class="col-sm-6">
              <input name="cost" type="number" min="1" max="100000000" class="form-control" required/>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-3 control-label">最小租金</label>
            <div class="col-sm-6">
              <input name="small_rent" type="number" min="1" max="100000000" class="form-control" required/>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-3 control-label">最大租金</label>
            <div class="col-sm-6">
              <input name="large_rent" type="number" min="1" max="100000000" class="form-control" required/>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-3 control-label">朝向</label>
            <div class="col-sm-6">
              <input name="toward" type="text" class="form-control" required/>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-3 control-label">备注</label>
            <div class="col-sm-6">
              <input name="remark" type="text" class="form-control" required/>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-3 control-label">是否推荐</label>
            <div class="col-sm-6">
              <select name="is_recommend" id="is_recommend" class="form-control">
                <option value="1">是</option>
                <option value="2">否</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-3 control-label">点击量</label>
            <div class="col-sm-6">
              <input name="click" type="number" min="1" max="100000000" class="form-control" required/>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-3 control-label">排序值</label>
            <div class="col-sm-6">
              <input name="sequencing" type="number" min="1" max="100000000" class="form-control" required/>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-3 control-label">首页图片</label>
            <div class="col-sm-6">
              <input type="file" name="img1[]" accept="image/gif,image/jpeg,image/jpg,image/png" class="form-control" required/>
              标题图片(宽:425px,高:300px)
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-3 control-label">展示图片</label>
            <div class="col-sm-6">
              <div id="InputsWrapper">
              </div>
              <a href="#" id="AddMoreFileBox" class="btn btn-primary">添加更多的展示图片</a>
            </div>
          </div>

          <!--<div class="form-group">-->
            <!--<label class="col-sm-3 control-label">展示图片</label>-->
            <!--<div class="col-sm-6">-->
              <!--<input type="file" id="inputs" name="img2[]" accept="image/gif,image/jpeg,image/jpg,image/png" multiple="multiple">-->
              <!--<div id='dd'></div>-->
              <!--<div class="showimgdiv" id="fileList" ></div>-->
            <!--</div>-->
          <!--</div>-->

          <div class="panel-footer">
            <div class="row">
              <div class="col-sm-6 col-sm-offset-3">
                <button class="btn btn-primary">提交</button>&nbsp;
                <button class="btn btn-default">取消</button>
              </div>
            </div>
          </div>

        </form>

      </div><!-- panel-body -->
    </div><!-- panel -->
  </div><!-- panel -->
</block>
<block name="js">
  <script>
    $(document).ready(function() {
      var MaxInputs    = 8; //maximum input boxes allowed
      var InputsWrapper  = $("#InputsWrapper"); //Input boxes wrapper ID
      var AddButton    = $("#AddMoreFileBox"); //Add button ID
      var x = InputsWrapper.length; //initlal text box count
      var FieldCount=1; //to keep track of text box added
      $(AddButton).click(function (e) //on add input button click
      {
        if(x <= MaxInputs) //max input box allowed
        {
          FieldCount++; //text box added increment
          //add input box
          $(InputsWrapper).append('<div><br><input type="file" name="mytext[]" style="display: inline-block;vertical-align: middle;width: 200px" id="field_'+ FieldCount +'" value="file '+ FieldCount +'"/><a href="#" class="removeclass"><input type="button" class="btn btn-primary" value="删除"></a></div>');
          x++; //text box increment
        }
        return false;
      });
      $("body").on("click",".removeclass", function(e){ //user click on remove text
        if( x > 1 ) {
          $(this).parent('div').remove(); //remove text box
          x--; //decrement textbox
        }
        return false;
      })
    });
  </script>
  <script>
//    $(document).ready(function () {
//      $("#inputs").change(function () {
//        var fil = this.files;
//        for (var i = 0; i < fil.length; i++) {
//          reads(fil[i]);
//        }
//      });
//    });
//    function reads(fil){
//      var reader = new FileReader();
//      reader.readAsDataURL(fil);
//      reader.onload = function()
//      {
//        document.getElementById("dd").innerHTML += "<img style = 'width:50px;height:50px' src='"+reader.result+"'> &nbsp;";
//      };
//    }
  </script>

</block>

